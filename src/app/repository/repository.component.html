<!-- <div class="container-fluid">
    <div class="d-flex justify-content-start">
        <div class="col-md-3 col-lg-2 col-sm-3 p-4">
            <div class="d-flex align-items-center justify-content-between">
                <span class="fw-semibold">Top repositories</span>
                <button class="btn btn-success btn-sm" (click)="createRepositoryPopup()"><i class="fa-brands fa-git-alt"></i> New</button>
            </div>
            <div class="mt-3">
                <input type="text" placeholder="Find a repository" class="form-control">
            </div>
            @if (isPageReady) {
                <div class="mt-3">
                    @for (item of allRepositories; track $index) {
                        <div class="row ps-3">
                            <div class="user-icon rounded bg-light rounded-circle py-1">
                                <i class="fa-solid fa-user"></i>
                            </div>
                            <div class="col-md-10 text-truncate">
                                <a href="javascript:void(0)" class="text-decoration-none text-dark repo-name" (click)="viewRepository(item)">{{item.RepoName}}</a>
                            </div>
                        </div>
                    }
                </div>
            } @else {
                <div class="d-flex justify-content-center align-items-center" style="height: 80vh;">
                    <div class="spinner-border" role="status">
                        <span class="visually-hidden">Loading...</span>
                    </div>
                </div>
            }
        </div>
        <div class="col-md-7 col-lg-8 d-flex align-items-center flex-column justify-content-center right-container border-start">
            <a href="javascript:void(0)" class="fw-bold text-c fs-4" (click)="createRepositoryPopup()">
                Create a new repository
            </a>
            <p class="mt-3 tex-center">A repository contains all project files, including the revision history. Already have a project repository elsewhere?</p>
        </div>
    </div>
</div> -->


<div class="container-fluid vh-100">
  <div class="row h-100">

    <!-- Sidebar -->
    <div class="col-md-2 border-end bg-light p-3">
      <div class="row align-items-center justify-content-between">
        <h6 class="col-auto text-muted">Top repositories</h6>
        <button class="btn btn-success col-auto btn-sm" (click)="createRepositoryPopup()">New</button>
      </div>
      <input type="text" class="form-control form-control-sm my-2" placeholder="Find a repository...">

      @if (isPageReady) {
      <ul class="list-unstyled small">
        @for (repo of repositories; track $index) {
        <li class="my-1 pt-1">
          <a href="javascript:void(0)" class="text-decoration-none text-dark repo-name" (click)="viewRepository(repo)">
            <i class="fas fa-book pe-2 text-muted"></i>bottomhalf/{{ repo.RepoName }}
          </a>
        </li>
        @if (repositories.length > 7) {
        <li class="mt-2"><a href="javascript:void(0)" class="text-decoration-none text-muted">Show more</a></li>
        }
        }
      </ul>
      }
    </div>

    <!-- Main content -->
    <div class="col-md-8 p-4">
      <div class="d-flex justify-content-between align-items-center mb-2">
        <h4>Home</h4>
        <input type="text" class="form-control form-control-sm w-25" placeholder="Type / to search">
      </div>
      <div class="col-md-12 form-control mb-3 position-relative">
        <input type="text" placeholder="Ask Copilot" class="form-control border-0 p-0 m-0">
        <button type="button"
          class="btn btn-sm btn-outline-secondary align-items-end border-0 position-absolute search-ai-btn">
          <i class="bi bi-send"></i>
        </button>
      </div>
      <div class="row col-md-12 ms-1">
        <button class="btn btn-outline-white shadow col-auto rounded-pill"><i
            class="fa-regular fa-circle-dot pe-1 text-success"></i> Suggest next steps for an issue</button>
        <button class="btn btn-outline-white shadow col-auto mx-3 rounded-pill"><i class="bi bi-code pe-1"></i> Make a
          c# console application</button>
        <button class="btn btn-outline-white shadow col-auto rounded-pill"><i
            class="fa-regular fa-circle-dot pe-1 text-success"></i> Create an issue for a bug</button>
      </div>

      <div class="my-3 d-flex gap-2 flex-wrap">
        <button class="btn btn-outline-primary btn-sm"><i class="fas fa-magic"></i> Ask Copilot</button>
        <button class="btn btn-outline-danger btn-sm">Create a profile README</button>
        <button class="btn btn-outline-success btn-sm">My open pull requests</button>
        <button class="btn btn-outline-secondary btn-sm">Make a Pong game</button>
      </div>

      <!-- Feed -->
      <div class="card mb-3">
        <div class="card-header bg-white d-flex justify-content-between">
          <span><i class="fas fa-chart-line"></i> Trending repositories</span>
          <a href="#">See more</a>
        </div>
        <div class="card-body">
          <div *ngFor="let repo of trendingRepos" class="mb-3">
            <strong>{{ repo.name }}</strong>
            <p class="mb-1 text-muted">{{ repo.description }}</p>
            <div>
              <span class="badge bg-primary">{{ repo.language }}</span>
              <i class="fas fa-star ms-2 text-warning"></i> {{ repo.stars }}
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Right sidebar -->
    <div class="col-md-2 border-start bg-white p-3">
      <h6 class="fw-bold">Latest changes</h6>
      <ul class="list-unstyled small">
        <li *ngFor="let item of changes" class="mb-2">
          <div class="text-muted">{{ item.time }} ago</div>
          <div>{{ item.message }}</div>
        </li>
      </ul>
    </div>

  </div>
</div>

<!-- Manage Repo Modal -->
<div class="modal fade" id="manageNewRepositoryModal" tabindex="-1" aria-labelledby="manageNewRepositoryModalLabel" aria-hidden="true" data-bs-backdrop="static" data-bs-keyboard="false">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h1 class="modal-title fs-5" id="manageNewRepositoryModalLabel">New Repository</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div>
            <label class="form-label">Repository name <span class="text-danger">*</span></label>
            <input type="text" placeholder="Repository name" class="form-control" [(ngModel)]="newRepository.RepoName" [ngClass]="{'error-field': submitted && (newRepository.RepoName == null || newRepository.RepoName == '')}">
        </div>
        <div class="mt-3">
            <label class="form-label">Description</label>
            <textarea rows="3" placeholder="Description" class="form-control" [(ngModel)]="newRepository.RepoDescription"></textarea>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" [disabled]="isLoading">Close</button>
        <button type="button" class="btn btn-success" (click)="createRepository()" [disabled]="isLoading">
            <i class="fa-solid" [ngClass]="{'fa-spinner fa-spin': isLoading, 'fa-floppy-disk': !isLoading}"></i>
            {{ isLoading ? 'Wait' : 'Create repository' }}
        </button>
      </div>
    </div>
  </div>
</div>